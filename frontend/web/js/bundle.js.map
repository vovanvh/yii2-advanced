{"version":3,"file":"bundle.js","mappings":";;;;;;;;;;AAAa;AACb;AACA,4BAA4B,+DAA+D,iBAAiB;AAC5G;AACA,oCAAoC,MAAM,+BAA+B,YAAY;AACrF,mCAAmC,MAAM,mCAAmC,YAAY;AACxF,gCAAgC;AAChC;AACA,KAAK;AACL;AACA,8CAA6C,EAAE,aAAa,EAAC;AAC7D,+BAA+B;AAC/B;AACA;AACA;AACA;AACA,kCAAkC,IAAI,GAAG,IAAI;AAC7C;AACA;AACA;AACA,uEAAuE,IAAI,aAAa,IAAI;AAC5F;AACA;AACA;AACA,8CAA8C,eAAe;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,uDAAuD,UAAU;AACjE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sCAAsC,KAAK;AAC3C,4CAA4C;AAC5C;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;;;;;;;UC3DA;UACA;;UAEA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;;UAEA;UACA;;UAEA;UACA;UACA;;;;;;;;;;ACtBa;AACb,8CAA6C,EAAE,aAAa,EAAC;AAC7D,uBAAuB,mBAAO,CAAC,sDAAgB;AAC/C;AACA;AACA,CAAC","sources":["webpack://hotels/./frontend/src/open.weather.ts","webpack://hotels/webpack/bootstrap","webpack://hotels/./frontend/src/app.ts"],"sourcesContent":["\"use strict\";\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.renderWeatherInElements = renderWeatherInElements;\nconst fetchedCache = new Map();\nfunction fetchWeather(lat, lon) {\n    return __awaiter(this, void 0, void 0, function* () {\n        var _a;\n        const coordinatesKey = `${lat},${lon}`;\n        if (fetchedCache.has(coordinatesKey)) {\n            return fetchedCache.get(coordinatesKey);\n        }\n        const url = `https://api.open-meteo.com/v1/forecast?latitude=${lat}&longitude=${lon}&current_weather=true`;\n        try {\n            const res = yield fetch(url);\n            if (!res.ok)\n                throw new Error(`API error: ${res.statusText}`);\n            const data = yield res.json();\n            const temperature = (_a = data === null || data === void 0 ? void 0 : data.current_weather) === null || _a === void 0 ? void 0 : _a.temperature;\n            if (typeof temperature === 'number') {\n                fetchedCache.set(coordinatesKey, temperature);\n                return temperature;\n            }\n            return null;\n        }\n        catch (err) {\n            console.error('Fetch failed:', err);\n            return null;\n        }\n    });\n}\nfunction renderWeatherInElements(className) {\n    return __awaiter(this, void 0, void 0, function* () {\n        const elements = document.querySelectorAll(`.${className}`);\n        for (const el of elements) {\n            const lat = parseFloat(el.dataset.lat || '');\n            const lon = parseFloat(el.dataset.lon || '');\n            if (isNaN(lat) || isNaN(lon)) {\n                console.warn('Invalid coordinates for element:', el);\n                continue;\n            }\n            const temp = yield fetchWeather(lat, lon);\n            if (temp !== null) {\n                el.innerText = `ðŸŒ¡ï¸ ${temp}Â°C`;\n                el.style.display = 'block'; // Or remove a 'hidden' class if used\n            }\n            else {\n                el.innerText = 'Weather data unavailable';\n            }\n        }\n    });\n}\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nconst open_weather_1 = require(\"./open.weather\");\n(0, open_weather_1.renderWeatherInElements)('weather-box').then(r => {\n    console.log('Done!');\n});\n"],"names":[],"sourceRoot":""}